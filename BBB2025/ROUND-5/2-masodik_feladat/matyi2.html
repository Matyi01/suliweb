<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>m√°sodik</title>
</head>

<body>


    <script>

        let adatok = {};

        const url = "https://bitkozpont.mik.uni-pannon.hu/2025/gettasks.php";
        fetch(url, {
            method: "POST",
            body: JSON.stringify({
                id: "2",
                teamcode: "f1e1ae76b73a8b7aa51b"
            }),
        })
            .then((response) => response.json())
            .then(function (json) {
                adatok = json;

                elso();

            });


        function elso() {

            console.log(adatok)


            let valasztomb = [];

            adatok.data.questions.forEach(e => {

                let matrix = [];
                e.params.positions.forEach(pos1 => {
                    temp = [];

                    e.params.positions.forEach(pos2 => {
                        let tav = Math.ceil(Math.sqrt((pos1.x - pos2.x) * (pos1.x - pos2.x) + (pos1.y - pos2.y) * (pos1.y - pos2.y)))
                        temp.push(tav)
                    })
                    matrix.push(temp)
                })
                valasztomb.push({ id: e.ID, answer: matrix });
            });

            const url = "https://bitkozpont.mik.uni-pannon.hu/2025/answer.php";
            fetch(url, {
                method: "POST",
                body: JSON.stringify({
                    id: adatok.data.ID,
                    teamcode: "f1e1ae76b73a8b7aa51b",
                    original_data: adatok.data,
                    original_hash: adatok.hash,
                    answer_data: valasztomb
                }),
            })
                .then((response) => response.json())
                .then(function (adatok) {
                    console.log(adatok)
                });


        }


    </script>
</body>

</html>